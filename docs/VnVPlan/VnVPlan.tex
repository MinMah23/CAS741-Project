\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[numbers]{natbib}


\input{}
\newcommand{\colZwidth}{1.0\textwidth}
\newcommand{\colAwidth}{0.13\textwidth}
\newcommand{\colBwidth}{0.82\textwidth}
\newcommand{\colCwidth}{0.1\textwidth}
\newcommand{\colDwidth}{0.05\textwidth}
\newcommand{\colEwidth}{0.8\textwidth}
\newcommand{\colFwidth}{0.17\textwidth}
\newcommand{\colGwidth}{0.5\textwidth}
\newcommand{\colHwidth}{0.28\textwidth}


\begin{document}

\title{System Verification and Validation Plan for \\IP Simulator}
\author{Mina Mahdipour}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{4cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
February 13, 2023 & 1.0 & The first version of VnV\\
February 13, 2023 & 1.1 & Added plan part\\
February 17, 2023 & 1.2 & Added system test description\\
February 18, 2023 & 1.3 & Updated test section\\
February 19, 2023 & 1.4 & Refined the whole document\\
February 20, 2023 & 1.5 & Updated NFRs test casee\\
\bottomrule
\end{tabularx}

\newpage

\tableofcontents

\listoftables


\newpage

\section{Symbols, Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
 
  FR & Functional Requirements\\
  MIS & Module Interface Specification\\
  NFR & Nonfunctional Requirements\\
  N/A & Not Applicable\\
  VnV & Verification and Validation\\
SRS & Software Requirements Specification\\
 T & Test\\
 TC& Test Case\\
\bottomrule
\end{tabular}\\
\\
Section 1 of \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/SRS/SRS.pdf}{SRS} document can be referred by the reader for complete symbols used within the system.
\newpage

\pagenumbering{arabic}

This document outlines the road map of the verification and validation plan for Inverted Pendulum (IP) Simulator to help ensure (but not prove) correctness and completeness of the program.
It includes a plan for testing the functional and non-functional requirements, an overview of the system tests, and an outline of the unit tests (not yet complete as it is depended on the MIS).

\section{General Information}

\subsection{Summary}
This document provides the validation and verification plans for the IP Simulator Software. This software aims to simulate and describe the behavior of a cart-pendulum system in the presence of different values of external force. To do that, it will calculate the cart position and pendulum's angle after applying the force.
\subsection{Objectives}

The objectives of this document are listed below:
\begin{itemize}
\item Establish confidence in software reliability.
\item Demonstrate adequate usability.
\item Verify and validate the final product.
\end{itemize}

\subsection{Relevant Documentation}

\href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/ProblemStatementAndGoals/ProblemStatement.pdf}{Problem Statement} presents an overview of the problem.
The requirements and an outline of the solution for the IP Simulator are captured in the \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/SRS/SRS.pdf}{Software Requirements Specification}.
The final report of running the test which described in this document, will be shown in \href{https://github.com/Maryamvalian/project741/blob/main/docs/VnVReport/VnVReport.pdf}{VnV Report}.
The software design information will be captured in the \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/Design}{Module Guide}and MIS too.

\section{Plan}
This section provides a road map of plans for different steps of producing the final product.
\subsection{Verification and Validation Team}
Our team includes:
\begin{center}
\begin{table}[h!]
\begin{tabular}{| p{\colFwidth} | p{\colHwidth}|p{\colHwidth}|p{\colHwidth}|}
\hline
\textbf{Role} & \textbf{Responsibility} & \textbf{Assignee} & \textbf{Document} \label{R&R} \\
\hline
 Supervisor& Review and provide feedbacks & Dr.\ Spencer Smith& All documents\\
 \hline
Author& Create the products and refine them by feedbacks & Mina Mahdipour & All documents\\
\hline
 Domain Expert/ Reviewer& Review and provide feedbacks&Deesha Patel &All documents \\
  \hline
Secondary Reviewer&Review and provide feedbacks&Maryam VAlian&SRS\\
\hline  
Secondary Reviewer&Review and provide feedbacks&Karen Wang&VnV plan\\
\hline 
Secondary Reviewer&Review and provide feedbacks&Joachim de Fourestie&MG + MIS\\
\hline
\end{tabular}
\caption{Verification and Validation Team} 
\end{table}
\end{center}



\subsection{SRS Verification Plan}

The SRS has been independently peer-reviewed by members of the VnV team according to \href{https://github.com/smiths/capTemplate/blob/main/docs/Checklists/SRS-Checklist.pdf}{SRS-Checklist}, consisting of the domain expert Deesha Patel and the SRS reviewer, Maryam Valian, as well as Dr.\ Spencer Smith.
The SRS document has been published to GitHub. Any issues identified during the review were tracked and verified in Github platform.

\subsection{Design Verification Plan}

The design document MIS will be reviewed by the MIS review team, consisting of the domain expert, Deesha Patel and the MIS reviewer, Joachim de Fourestier, as well as Dr.\ Spencer Smith.
The MIS document will be published to GitHub. Defects will be addressed with issues on the GitHub platform. There is also \href{https://github.com/smiths/capTemplate/blob/main/docs/Checklists/MIS-Checklist.pdf}{MIS-Checklist}, that can be used.

\subsection{Verification and Validation Plan Verification Plan}
The VnV plan document will be reviewed by the VnV plan review team, consisting of the domain expert Deesha Patel and the reviewer, Karen Wang as well as Dr.\ Spencer Smith.
This document will be published to GitHub. Defects will be addressed with issues on the GitHub platform.
There is also \href{https://github.com/smiths/capTemplate/blob/main/docs/Checklists/VnV-Checklist.pdf}{VnV-Checklist}, that can be used.

\subsection{Implementation Verification Plan}

The IP Simulator will be developed in Python programming language. The implementation of the software will be tested under the test cases listed in section \ref{test}.
The tests will either be automated, performed manually (usually just for quick tests that involve the tester confirming that something happened). \\
Static analysis will be done using Code Walkthrough technique by the Domain expert (Deesha Patel). They will have a meeting, and she will run the test cases over the code by hand, while the author presents the document under review. She may also ask the author any relevant questions and discuss her findings with the author. Visual Studio Code will be used for program debugging and for checking syntax errors. \\
 
\subsection{Automated Testing and Verification Tools}

Automated Testing and Verification Tools will be extensively used in the development of IP Simulator for automation at different levels. These tools include \href{https://github.com/MinMah23/CAS741-Project}{git} a distributed version-control system for tracking changes in source code during software development, \href{https://docs.pytest.org/en/7.2.x/}{Pytest} framework for unit, functional, and integration automated testing, and \href{https://flake8.pycqa.org/en/latest/}{Flake8} to check for errors, enforces coding standards, and identifies code complexity issues.

\subsection{Software Validation Plan}

There are no plans for the Validation of the IP Simulator software.

\section{System Test Description}\label{test}
This section will define the tests to ensure IP Simulator meets the functional requirements seen in the \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/SRS/SRS.pdf}{SRS} document for simulating inverted pendulum system. The subsections combine several requirements that are be separated based on common ideas.

\subsection{Tests for Functional Requirements}
This section contains the systems test cases for the functional requirements which are described in the  \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/SRS/SRS.pdf}{SRS}.

\subsubsection{Input validation \label{inp_val}}
This section includes tests to verify that the software rejects invalid input values such as non-numerical values or values outside of specified range and to make sure that the it accepts valid input values within specified range, R1 and R2 of requirements in section5 of the  \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/SRS/SRS.pdf}{SRS}.


\begin{table}
 \begin{tabular}{|c|c c c c c| c c|} 
 \hline
 \multicolumn{1}{l|}{}   & \multicolumn{5}{c|}{Input}                            & \multicolumn{2}{c}{Expected Output} \\ \hline
\hline
\multicolumn{1}{c|}{TC} &   $m_p$ & $m_c$ & $l$ & $F$ & $b$  &   $Validity$   &   $Error Message$ \\ \hline
1-1 &0.2 & 0.5& 0.3& 50& 0.2 & Yes & None\\
 \hline
2-1 &0 & 0.5& 0.3& 50& 0.2 & No & Error: invalid input, Put non-zero values  \\
 \hline
2-2 &0.2 & 0& 0.3& 50& 0.2& No & Error: invalid input, Put non-zero values \\
 \hline
2-3 &0.2 & 0.5& 0& 50& 0.2 &  No & Error: invalid input, Put non-zero values \\
 \hline
3-1 &0.2 & 0.5& 0.3& 50& 0 & Yes & None\\
 \hline
 4-1 &-0.2 & 0.5& 0.3& 50& 0.2&  No & Error: invalid input, Put non-negative values\\
 \hline
 4-2 &0.2 & -0.5& 0.3& 50& 0.2&   No & Error: invalid input, Put non-negative values\\
 \hline
 4-3 &0.2 & 0.5& -0.3& 50& 0.2&   No & Error: invalid input, Put non-negative values\\
 \hline
 4-4 &0.2 & 0.5& 0.3& -50& 0.2 &   No & Error: invalid input, Put non-negative values\\
 \hline
 4-5 &0.2 & 0.5& 0.3& 50& -0.2 &   No & Error: invalid input, Put non-negative values\\
 \hline
 5-1 & 50& 0.5& 0.3& 50& 0.2 & No & Error: invalid input, Out of boundary \\
 \hline
5-2 & 0.2& 50& 0.3& 50& 0.2 & No & Error: invalid input, Out of boundary \\
 \hline
5-3 & 0.2& 0.5& 1& 50& 0.2& No & Error: invalid input, Out of boundary \\
 \hline
5-4 & 0.2& 0.5& 0.3& 200& 0.2 & No & Error: invalid input, Out of boundary \\
 \hline
6-1 & & 0.5& 0.3& 50& 0.2 & No & Error: invalid input, Missed input \\
  \hline
6-2 &0.2 & &0.3 & 50& 0.2 & No & Error: invalid input, Missed input \\  \hline
 6-3 & 0.2& 0.5& & 50& 0.2 & No & Error: invalid input, Missed input \\
  \hline
  6-4 & 0.2& 0.5& 0.3& & 0.2 & No & Error: invalid input, Missed input \\
  \hline
   6-5 & 0.2& 0.5& 0.3& 50&  & No & Error: invalid input, Missed input \\
  \hline
 7-1 &0.2 & 0.5& 0.3& 0& 0.2& Yes & None\\
 \hline
\end{tabular}
\caption{\label{tbl_inputValidation}Input Validation Test Cases}
\end{table}		

 
\paragraph{Input Constraints Test}

\begin{enumerate}

\item{TC-IP-1: valid inputs}

Control: Automatic
					
Initial State: N/A 
					
Input: Set of input values as 1-1 in Table \ref{tbl_inputValidation}.
					
Output: $x$, the position of cart and $\theta$, the angle of pendulum

Test Case Derivation: Derived form IP Simulator, as a normal and valid set of inputs.
					
How test will be performed: Automatic test using Pytest.

\item{TC-IP-2: zero inputs}

Control: Automatic
					
Initial State: N/A 
					
Input: Set of input values as 2-1 to 2-3 in Table \ref{tbl_inputValidation}.
					
Output: Error message

Test Case Derivation: Zero input for mass of pendulum, mass of cart, and length of the cart are not valid.
					
How test will be performed: Automatic test using Pytest.

\item{TC-IP-3: valid and zero inputs}

Control: Automatic
					
Initial State: N/A 
					
Input: Set of input values as 3-1  and 7-1 in Table \ref{tbl_inputValidation}.
					
Output: $x$, the position of cart and $\theta$, the angle of pendulum

Test Case Derivation: Derived form IP Simulator, as a normal and valid set of inputs, however it should be considered that with inputs as 7-1, the position of cart stay without change and the pendulum falls and its angle will be 180 $rad$.
					
How test will be performed: Automatic test using Pytest.

\item{TC-IP-4: negative inputs}

Control: Automatic
					
Initial State: N/A 
					
Input: Set of input values as 4-1 through 4-5 in Table \ref{tbl_inputValidation}.
					
Output: Error message

Test Case Derivation: Inputs can not be negative values.
					
How test will be performed: Automatic test using Pytest.

\item{TC-IP-5: out of bound inputs}

Control: Automatic
					
Initial State: N/A 
					
Input: Set of input values as 5-1 through 5-4 in Table \ref{tbl_inputValidation}.
					
Output: Error message

Test Case Derivation: The user should prepare values for inputs in the valid range for each.

How test will be performed: Automatic test using Pytest.

\item{TC-IP-6: missing inputs}

Control: Automatic
					
Initial State: N/A 
					
Input: Set of input values as 6-1 through 6-5 in Table \ref{tbl_inputValidation}.
					
Output: Error message

Test Case Derivation: The user should provide all the inputs without missing.
					
					
How test will be performed: Automatic test using Pytest.			
				
\end{enumerate}

\subsubsection{Output Validity \label{out_val}}

This section presents tests to make confidence in Error handling in the software which means system can handle unexpected errors gracefully and provides clear error messages when errors occur.
The other goal of these tests is to verify that system simulates the cart moving back and forth and the pendulum rotates according to input values, as the R3 and R4 of requirements in section5 of the  \href{https://github.com/MinMah23/CAS741-Project/tree/main/docs/SRS/SRS.pdf}{SRS} has defined.

\begin{table}
 \begin{tabular}{|c|c c c c c| c|} 
 \hline
 \multicolumn{1}{l|}{}   & \multicolumn{5}{c|}{Input}                            & \multicolumn{1}{c}{Expected Output} \\ \hline
\hline
\multicolumn{1}{c|}{TC} &   $m_p$ & $m_c$ & $l$ & $F$ & $b$  &   $Output$ \\ \hline
1-1 &0.2 & 0.5& 0.3& 50& 0.2 &$x$ the position of cart ,and $\theta$, the angle of pendulum \\
 \hline
2-1 &0 & 0.5& 0.3& 50& 0.2 & Error: invalid input, Put non-zero values  \\
 \hline
3-1 &-0.2 & 0.5& 0.3& 50& 0.2& Error: invalid input, Put non-negative values\\
 \hline
4-1 & 0.2& 0.5& 0.3& 200& 0.2 & Error: invalid input, Out of boundary \\
 \hline
5-1 & & 0.5& 0.3& 50& 0.2 & Error: invalid input, Missed input \\
  \hline
\end{tabular}
\caption{\label{tbl_outValidation}Output Validation Test Cases}
\end{table}		

\begin{enumerate}

\item{TC-IP-1}

Control: Automatic
					
Initial State: the software has run by the input values of 1-1 in Table \ref{tbl_outValidation}.
					
Input: input variables like 1-1 in Table \ref{tbl_outValidation}.
					
Output: The $x$ can be positive or negative which means the cart moves left or right from the source and $\theta$ is positive or zero.
Test Case Derivation: Derived form IP Simulator, as a normal and valid set of inputs have been provided.
					
How test will be performed: It will be performed by IP Simulator and Pytest.

\item{TC-IP-2}

Control: Automatic
					
Initial State: the software has run by the input values of 2-1 through 5-1 in Table \ref{tbl_outValidation}.
					
Input: invalid inputs like 2-1 through 5-1 in Table \ref{tbl_outValidation}.
					
Output: The output is the appropriate error to clarify what is the problem according to Table \ref{tbl_outValidation}.
					
How test will be performed:  It will be performed by IP Simulator, Pytest and Flake8.
				

\end{enumerate}

\subsection{Tests for Nonfunctional Requirements}

\subsubsection{Portability\label{nfr1}}

\paragraph{Testing the portability of IP Simulator}

\begin{enumerate}

\item{T1: portability\\}

Type: Manual
					
Initial State: None. 
Requirement ID(s): NFR-1					
Input/Condition: Executes all tests in \ref{inp_val} and \ref{out_val} in the IP Simulator in different OS.
					
Output/Result: Successful test implies portability of software.

How test will be performed: The test will be performed manual by executing the software and test in different OS, including Linux,
Windows, MacOS. A successful test is specified by the verification of
each test for functional requirements. 
				
\end{enumerate}
\subsubsection{Usability\label{nfr2}}

\paragraph{Testing the Usability of IP Simulator}

\begin{enumerate}

\item{T1: usability}
Testing the usability will determine if the users have an efficient interaction with the software and also the software is easy to use or not. The system will be tested against a usability test and survey which the details are in the Appendix \ref{appendix}.

Type: Manual
					
Initial State: The IP Simulator runs. \\
Requirement ID(s): NFR-2\\				
Input/Condition: Any tests considering inputs criteria can be run by a group of individuals who have varying levels of experience with inverted pendulum systems and the software including  at least an undergraduate Physics student, an undergraduate Engineering student, a high school student, and the domain expert, Deesha Patel, and the checklist.\\  		
Output/Result: According to the feed backs from the survey, the usability of the software will be tested.\\
How test will be performed: Manually, as it is a test of usability by the user, and thus requires the test to be run by the user.\\

\end{enumerate}				

\subsubsection{Accuracy\label{nfr3}}

\paragraph{Testing the Accuracy of IP Simulator}

\begin{enumerate}

\item{T1: accuracy}
The accuracy test should be done through comparing the results with benchmarks or experimental data from an actual inverted pendulum system, however, the author do not have access to none of them and suggest to compare the results of IP Simulator with a similar system which has been developed by the other engineer and using MATLAB \cite{al-khazraji_2022} 

Type: Manual
					
Initial State: The IP Simulator and the similar project in MATLAB with the same inputs run.\\
Requirement ID(s): NFR-3\\				
Input/Condition: All of the test in \ref{inp_val} will be done.\\  		
Output/Result: Comparing the outputs of models to the values of the other software.The Euclidean distance between both results from the two software will be reported as an error measurement for some cases. The euclidean distance formula will be calculated as follows:\\
\newline
$d\left( r,l\right)   = \sqrt {\sum _{i=1}^{n}  \left( l_{i}-r_{i}\right)^2 } $ \\
\newline
Where $r$ is the output vector of IP Simulator and $l$ is the output vector of \cite{al-khazraji_2022} for a specific test case. 
\\
How test will be performed: Manually, as both the projects should be run manually.\\

\end{enumerate}

\subsection{Traceability Between Test Cases and Requirements}
A traceability between test cases and requirements is shown in Table \ref{tbl_rel}.


\begin{table} [h!]
\centering
\begin{tabular}{|c|c| c| c| c | c|c | c|}
\hline
Test Cases & R1 & R2 & R3& R4& NFR1& NFR2&NFR3  \\
 \hline   
 \ref{inp_val} &X &X & & &&& \\
 \hline
  \ref{out_val}   & & & X&X & && \\
 \hline
  \ref{nfr1}   && & & &  X&&\\
 \hline
  \ref{nfr2}  &&& & &  &X&\\
 \hline
  \ref{nfr3}  &&& & &  &&X\\
 \hline
\end{tabular}
\caption{\label{tbl_rel}Traceability Matrix between tests and requirements.}
\end{table}


\section{Unit Test Description}


\subsection{Unit Testing Scope}
This section is intentionally left blank until the MIS is completed.

				
\bibliographystyle{plainnat}

\bibliography{ref}

\newpage

\section{Appendix\label{appendix}}

\subsection{Usability Survey Questions?}
To test usability of the IP Simulator, the questionnaire \cite{hinderks_schrepp_thomaschewski} will be used.
\newpage{}
\end{document}