% THIS DOCUMENT IS TAILORED TO REQUIREMENTS FOR SCIENTIFIC COMPUTING.  IT SHOULDN'T
% BE USED FOR NON-SCIENTIFIC COMPUTING PROJECTS
\documentclass[12pt]{article}

\usepackage[square,numbers]{natbib}
\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{gensymb}
\usepackage[round]{natbib}

\input{}

% For easy change of table widths
\newcommand{\colZwidth}{1.0\textwidth}
\newcommand{\colAwidth}{0.13\textwidth}
\newcommand{\colBwidth}{0.82\textwidth}
\newcommand{\colCwidth}{0.1\textwidth}
\newcommand{\colDwidth}{0.05\textwidth}
\newcommand{\colEwidth}{0.8\textwidth}
\newcommand{\colFwidth}{0.17\textwidth}
\newcommand{\colGwidth}{0.5\textwidth}
\newcommand{\colHwidth}{0.28\textwidth}

% Used so that cross-references have a meaningful prefix
\newcounter{defnum} %Definition Number
\newcommand{\dthedefnum}{GD\thedefnum}
\newcommand{\dref}[1]{GD\ref{#1}}
\newcounter{datadefnum} %Datadefinition Number
\newcommand{\ddthedatadefnum}{DD\thedatadefnum}
\newcommand{\ddref}[1]{DD\ref{#1}}
\newcounter{theorynum} %Theory Number
\newcommand{\tthetheorynum}{T\thetheorynum}
\newcommand{\tref}[1]{T\ref{#1}}
\newcounter{tablenum} %Table Number
\newcommand{\tbthetablenum}{T\thetablenum}
\newcommand{\tbref}[1]{TB\ref{#1}}
\newcounter{assumpnum} %Assumption Number
\newcommand{\atheassumpnum}{P\theassumpnum}
\newcommand{\aref}[1]{A\ref{#1}}
\newcounter{goalnum} %Goal Number
\newcommand{\gthegoalnum}{P\thegoalnum}
\newcommand{\gsref}[1]{GS\ref{#1}}
\newcounter{instnum} %Instance Number
\newcommand{\itheinstnum}{IM\theinstnum}
\newcommand{\iref}[1]{IM\ref{#1}}
\newcounter{reqnum} %Requirement Number
\newcommand{\rthereqnum}{P\thereqnum}
\newcommand{\rref}[1]{R\ref{#1}}
\newcounter{nfrnum} %NFR Number
\newcommand{\rthenfrnum}{NFR\thenfrnum}
\newcommand{\nfrref}[1]{NFR\ref{#1}}
\newcounter{lcnum} %Likely change number
\newcommand{\lthelcnum}{LC\thelcnum}
\newcommand{\lcref}[1]{LC\ref{#1}}

\usepackage{fullpage}

\newcommand{\deftheory}[9][Not Applicable]
{
\newpage
\noindent \rule{\textwidth}{0.5mm}

\paragraph{RefName: } \textbf{#2} \phantomsection 
\label{#2}

\paragraph{Label:} #3

\noindent \rule{\textwidth}{0.5mm}

\paragraph{Equation:}

#4

\paragraph{Description:}

#5

\paragraph{Notes:}

#6

\paragraph{Source:}

#7

\paragraph{Ref.\ By:}

#8

\paragraph{Preconditions for \hyperref[#2]{#2}:}
\label{#2_precond}

#9

\paragraph{Derivation for \hyperref[#2]{#2}:}
\label{#2_deriv}

#1

\noindent \rule{\textwidth}{0.5mm}

}

\begin{document}

\title{Software Requirements Specification for IP Simulator: A tool for simulating the Inverted Pendulum System} 
\author{Mina Mahdipour}
\date{\today}
\maketitle

~\newpage

\pagenumbering{roman}

\tableofcontents

~\newpage

\section*{Revision History}

\begin{tabularx}{\textwidth}{p{4cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
February 1, 2023  & 1.0 & First version of document\\
February 3, 2023  & 1.1 & Complete the Description part\\
February 4, 2023  & 1.2 & Update Requirements part\\
February 6, 2023  & 1.3 & Update Specific System Description part\\
February 10, 2023 & 1.4 & Refine Solution Characteristic Specification\\
February 15, 2023 & 1.5 & Refine according to Dr.Smith comments\\
\bottomrule
\end{tabularx}

~\newpage

\section{Reference Material}

This section records information for easy reference.

\subsection{Table of Units}

Throughout this document SI (Syst\`{e}me International d'Unit\'{e}s) is employed as the unit system.  In addition to the basic units, several derived units are used as described below.  For each unit, the symbol is given followed by a description of the unit and the SI name.
~\newline

\renewcommand{\arraystretch}{1.2}
%\begin{table}[ht]
  \noindent \begin{tabular}{l l l} 
    \toprule		
    \textbf{symbol} & \textbf{unit} & \textbf{SI}\\
    \midrule 
    \si{\kilogram} & mass & kilogram\\
    \si{\newton} & force & newton\\
   \si{\radian} & angle & radian\\
    \si{\metre} & distance or length & metre\\
    \si{\newton.\metre} & torque & newton.metre\\
    \bottomrule
  \end{tabular}
  %	\caption{Provide a caption}
%\end{table}

\subsection{Table of Symbols}

The table that follows summarizes the symbols used in this document along with
their units. The symbols are listed in alphabetical order.

\renewcommand{\arraystretch}{1.2}
%\noindent \begin{tabularx}{1.0\textwidth}{l l X}
\noindent \begin{longtable*}{l l p{12cm}} \toprule
\textbf{symbol} & \textbf{unit} & \textbf{description}\\
\midrule
$b$ & dimensionless & Coefficient of friction for the cart\\ 
$d_py$ & \si{\metre}& Distance traveled by the center of mass of pendulum in {$y$} direction\\
$d_px$ & \si{\metre}& Distance traveled by the center of mass of pendulum in {$x$} direction\\
$F(t)$ & \si {\newton} & Horizontal force exerted on the cart over time \\
$g$ & \si {\metre\per\square\second} & Acceleration due to gravity\\
$H$ & \si {\newton} & Horizontal reaction force of the cart or the pole\\
$I$ & \si {\kilogram\square\metre} & Moment of inertia of the pendulum\\
$l$ & \si{\metre} & Length to pendulum center of mass\\ 
$m_c$ & \si{\kilogram} & Mass of the cart\\
$m_p$ & \si{\kilogram} & Mass of the pole\\
$r$ & \si {\metre} &  Radius from the axis of rotation to the location where the force is exerted for calculating torque\\
$V$ & \si {\newton} & Vertical reaction force component of the cart or the pole\\
$x(t)$ & \si{\metre} & The distance which cart transfer during time (t) \\
$\dot{x}$ & \si {\metre\per\second} & Velocity of the cart\\
$\ddot{x}$ & \si {\metre\per\square\second} & Acceleration of the cart\\  
$\theta (t)$ & \si{\radian} & Pendulum angle from vertical\\
$\dot{\theta}$ & \si {\radian\per\second} & Angular velocity of the pendulum\\
$\ddot{\theta}$ & \si {\radian\per\square\second} & Angular acceleration of the pendulum\\

\bottomrule
\end{longtable*}

\subsection{Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  A & Assumption\\
  DD & Data Definition\\
  GD & General Definition\\
  GS & Goal Statement\\
  IM & Instance Model\\
  LC & Likely Change\\
  PS & Physical System Description\\
  R & Requirement\\
  SRS & Software Requirements Specification\\
  IP & Inverted Pendulum\\
  TM & Theoretical Model\\
  \bottomrule
\end{tabular}\\

\subsection{Mathematical Notation}

{In this document, the common mathematical notation used in undergraduate-level mathematics will be used.}

\newpage

\pagenumbering{arabic}

\section{Introduction}

The inverted pendulum is a classical control problem used for illustrating non-linear control techniques. The system is motivated by applications such as control of rockets and anti-seismic control of buildings. The inverted pendulum system consists of a pendulum which is attached to a cart that can move horizontally. It is unstable because its center of mass is above its pivot point so without additional help will it fall over. The cart moves horizontally by an external force, which is the only control input to the system. By manipulating the force, the position of pendulum is controlled.\\
Considering the force, we would like to simulate the behavior of the system and measure the position of the cart and the angle of the pendulum in the presence of the force. We called the software, IP Simulator. It can also be incorporated later into a control system to stabilize the inverted pendulum.
The following section provides an overview of Software Requirement Specification (SRS) for a pole-cart system, discussing the scope and purpose of the work.


\subsection{Purpose of Document}

The main purpose of this document is to describe the mathematical model of Inverted Pendulum (IP) system. To clarify software requirements, detailed information about goals, assumptions, theoretical models, and definitions will be explained.\\
Therefore, this document will be the reference during producing the software. It will provide  requirements of the software which will be used in
planing for design stage. The following SRS document will remain abstract,  exploring what is being solved rather than how it will be solved.

\subsection{Scope of Requirements} 

The problem is restricted to two dimensions. The pendulum is attached to the cart in such a way that it is free to rotate in the pivot, and the cart can move horizontally left or right. This project dos not cover the control algorithms.
For more details, the reader can refer to the assumptions section (Section~\ref{sec_assumpt}).
 
\subsection{Characteristics of Intended Reader} \label{sec_IntendedReader}
Intended Reader(s) or Reviewer(s) should have knowledge about Physics and more specifically in the equations of motion. Good understanding of solving an ordinary differential equation (ODE) in Mathematics is also needed, both of the topics are offered in the undergraduate engineering courses or high school Mathematics and Physics subjects.


\subsection{Organization of Document}

This document follows the SRS template as specified by Smith and Lai\cite{SmithAndLai2005}. It will present the system's goals, theories, definitions, and assumptions. Goals are good points to start. To be familiar with mathematical model, Section~\ref{sec_theoretical} and then Section~\ref{sec_theoretical}, Section~\ref{sec_gendef}, Section~\ref{sec_instance} can be explored. Most of the material is referential and may be read as needed.

\section{General System Description}

This section provides general information about the system.  It identifies the
interfaces between the system and its environment, describes the user
characteristics and lists the system constraints.  

\subsection{System Context}
Figure \ref{Fig_SystemContext} represents an abstract view of the software. The rectangular node represents the IP simulator tool, and the circular nodes are users who interact the software through a user interface.

\begin{figure}[h!]
\begin{center}
\includegraphics[width=0.6\textwidth]{systemcontext.jpg}
\caption{System Context}
\label{Fig_SystemContext} 
\end{center}
\end{figure}

The responsibilities of the user and the software are as follows:
\begin{itemize}
\item User Responsibilities:
\begin{itemize}
\item Provide required inputs including cart and pole specifications.
\end{itemize}
\item The Inverted Pendulum simulation software responsibilities:
\begin{itemize}
\item Ensure all inputs are in correct format and detect data type mismatch.
\item Calculate and show the expected outputs including the position of the cart and position of the pendulum.
\end{itemize}
\end{itemize}

\subsection{User Characteristics} \label{SecUserCharacteristics}

The end user of the IP simulation software should have an understanding of first-level undergraduate Calculus and Physics.

\subsection{System Constraints}

There are no system constraints for this project.

\section{Specific System Description}

This section first presents the problem description, which gives a high-level view of the problem to be solved. This is followed by the solution characteristics
specification, which presents the assumptions, theories, definitions and finally the instance models.

\subsection{Problem Description} \label{Sec_pd}
The inverted pendulum system inherently has two equilibrium points, one of which is stable while the other is unstable. The stable equilibrium corresponds to a state in which the pendulum is pointing downwards. In the absence of any
control force, the system will naturally return to this state. The unstable equilibrium corresponds to a state in which the pendulum points strictly upwards and thus requires a control force to maintain this position.\\

The Inverted Pendulum simulation tool is intended to describe and simulate the behaviour of the system in the presence of different value of input. As the IP is widely used as a benchmark to demonstrate concepts and test control strategies and algorithms in nonlinear control, the final tool can show system status and be a great help as an educational material for students and engineers, It also can be incorporated into control software to stabilize the whole pendulum-cart system.


\subsubsection{Terminology and  Definitions}

This subsection provides a list of terms that are used in the subsequent
sections and their meaning, with the purpose of reducing ambiguity and making it easier to correctly understand the requirements:

\begin{itemize}
\item{Inverted Pendulum: An inverted pendulum is a pendulum that has its center of mass above its pivot point. It is unstable and without additional help will fall over.}

\item {Force equilibrium: A body is in force equilibrium if the sum of all the forces acting on the body is zero.}

\item{Friction: The force that resists the sliding or rolling of one solid object over another.}

\item{Moment: The turning effect of a force is called the moment. The moment is the result of the force multiplied by the perpendicular distance from the line of action of the force to the pivot or point where the object will turn.}

\item{Center of Mass: The center of mass is a position defined relative to an object or system of objects. It is the average position of all the parts of the system, weighted according to their masses.
For simple rigid objects with uniform density, the center of mass is located at the centroid.}

\item{Centroid: In mathematics and physics, the centroid, also known as geometric center or center of figure, of a plane figure or solid figure is the arithmetic mean position of all the points in the surface of the figure}

\item{Moment of Inertia: A quantity expressing a body's tendency to resist angular acceleration. It is the sum of the products of the mass of each particle in the body with the square of its distance from the axis of rotation.    .}
\end{itemize}



\subsubsection{Physical System Description} \label{sec_phySystDescrip}
  
The physical system of IP simulation Tool, as shown in Figure~\ref{fig_physys},
includes the following elements:

\begin{itemize}

\item{PS1: The cart}
\item{PS2: The pendulum}

\end{itemize}

%\plt{A figure here makes sense for most SRS documents}

 \begin{figure}[h!]
\begin{center}
 %\rotatebox{-90}
 
\includegraphics[width=0.5\textwidth]{physic_system.jpg}
 \caption{The physical system of IP simulation Tool}
 \label{fig_physys}
 \end{center}
 \end{figure}
 
\subsubsection{Goal Statements}
 Given the cart and the pendulum specifications, initial conditions and external force, the goal statements are:

\begin{itemize}
\item[GS\refstepcounter{goalnum}\thegoalnum \label{G_calPosition}:]
Calculate the position of the cart over time.
\item[GS\refstepcounter{goalnum}\thegoalnum \label{G_calTheta}:]
Calculate the angle of the pendulum arm over time.
\end{itemize}

\subsection{Solution Characteristics Specification}


\subsubsection{Assumptions} \label{sec_assumpt}

This section simplifies the original problem and helps in developing the
theoretical model by filling in the missing information for the physical
system. The numbers given in the square brackets refer to the theoretical model
[T], general definition [GD], data definition [DD], instance model [IM], or
likely change [LC], in which the respective assumption is used.

\begin{itemize}

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_systemdimension}:]
The system has a two-degree of freedom.
\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_pendfrictionl}:]
The pendulum is friction-less.
\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_cartfrictionl}:]
The cart has friction.
\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_pendulumInertia}:]
The  moment of inertia of the pendulum is constant.
\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_CartDimension}:]
The cart is allowed to move in a one-dimension plane, horizontally left or right.


\end{itemize}


\subsubsection{Theoretical Models}\label{sec_theoretical}

This section focuses on the general equations and laws that the tool is based
on. 

~\newline
\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& TM\refstepcounter{theorynum}\thetheorynum\label{NSL}\\
\hline
Label&  \bf Newton's Second Law of Motion\\
\hline
Equation & {$ F = ma$ }\\ 
\hline
Description & {Newton’s second law of motion pertains to the behavior of objects for which all existing forces are not balanced. The second law states that the acceleration of an object is dependent upon two variables, the net force acting upon the object which is $a$ and the mass of the object that is $m$. The acceleration of an object depends directly upon the net force acting upon the object, and inversely upon the mass of the object. As the force acting upon an object is increased, the acceleration of the object is increased. As the mass of an object is increased, the acceleration of the object is decreased.}\\
& $F$ is the net force acting upon the object in \si{\newton},\\
& $a$ is the acceleration of the object in \si {\metre\per\square\second},\\
& $m$ is the mass of that object in {\si{\kilogram}}.  \\
\hline
Notes & none. \\ 
\hline
Sources& \url{https://www.physicsclassroom.com/class/newtlaws/Lesson-3/Newton-s-Second-Law} \\
\hline
Ref.\ By &  \dref{NLHC},\dref{NLHP},\dref{NLVP}, \iref{Findx} \\
\hline
\end{tabular}
\end{minipage}\\


~\newline
\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& TM\refstepcounter{theorynum}\thetheorynum\label{NSLR}\\
\hline
Label&  \bf Newton’s Second Law for Rotation\\
\hline
Equation & {$\sum(\tau)$=$I$$\alpha$ }\\ 
\hline
Description & {If more than one torque acts on a rigid body about a fixed axis, then the sum of the torques equals the moment of inertia times the angular acceleration.}  \\
& $\tau$ is sum of the torques act on an object in \si{\newton\metre},\\ 
&  $I$ is the moment of inertia for a point particle in \si {\kilogram\square\metre}, \\
& $\alpha$ is angular acceleration of the object in \si{\radian\per\sec}.\\
\hline
Notes & none. \\ 
\hline
Sources& \url{https://courses.lumenlearning.com/suny-osuniversityphysics/chapter/10-7-newtons-second-law-for-rotation/} \\
\hline
Ref.\ By &  \iref{FindTehta} \\
\hline
\end{tabular}
\end{minipage}\\


~\newline
\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& TM\refstepcounter{theorynum}\thetheorynum\label{TorqueDef}\\
\hline
Label&  \bf Torque Definition \\
\hline
Equation & {$\tau=rF\sin(\theta)$ }\\ 
\hline
Description & {Measure of the twisting action caused by a force that can cause an object to rotate about an axis.}  \\
& $\tau$ is torque, the rotational equivalent of linear force.in \si{\newton\metre}, \\
& $F$ is applied force to an object that makes the object to rotate around an axis in \si{\newton},\\
&$r$ is the radius from the axis of rotation to the location where the force is exerted in \si{\metre},\\
&$\theta$ is the angle between $F$ and $r$ in \si{\radian}.\\
\hline
Notes & none. \\ 
\hline
Sources& \url{https://www.khanacademy.org/science/in-in-class11th-physics/in-in-system-of-particles-and-rotational-motion/in-in-torque-and-equilibrium-ap/a/torque-and-equilibrium} \\
\hline
Ref.\ By & \dref{AngDis}, \tref{NSLR}  \\
\hline
\end{tabular}
\end{minipage}\\

 
 ~\newline
 \noindent
 \begin{minipage}{\textwidth}
 \renewcommand*{\arraystretch}{1.5}
 \begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
 \hline
 \rowcolor[gray]{0.9}
 
Number& TM\refstepcounter{theorynum}\thetheorynum \label{FoG}\\
\hline
Label&  \bf Force of Gravity\\
\hline
Equation & {$ W = mg$ } \\ 
\hline
Description & { Gravity is a force that attracts objects toward the Earth. It is an approximation of the gravitational force that attracts objects of mass toward each other at great distances.}\\
& $g$ is the acceleration due to gravity in \si{\metre\per\square\second},\\ 
& $m$ is the mass of the object in \si{\kilogram}. \\ 
\hline
Notes & none. \\
\hline
Sources& \url{https://www.school-for-champions.com/science/gravity_overview.htm#.Y9-9ZXbMLs0} \\
\hline
Ref.\ By &  \dref{NLVP}\\
\hline
\end{tabular}
\end{minipage}\\



\subsubsection{General Definitions}\label{sec_gendef}

This section collects the laws and equations that will be used in building the
instance models.
~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& GD\refstepcounter{defnum}\thedefnum \label{NLHC}\\
\hline
Label &\bf Newton's second law of motion for the cart in horizontal direction \\
\hline
% Units&$MLt^{-3}T^0$\\
% \hline
SI Units& \si{\newton} \\
\hline
Equation& $m_c\ddot{x}= F-H_c-b\dot{x}$,  \\
\hline
Description & Based on Newton's second law of motion, sum of all forces applied to the cart in {$x$} direction is equal to $m_ca$, so the velocity of the cart is $\dot{x}$ and its acceleration will be $\ddot{x}$, therefore $a$ is equal to $\ddot{x}$.\\
& $F$ is the external force exerted to the cart in \si{\newton}.\\
& $H_c$ is the force component in {x} direction of the reaction force which pendulum applies on the cart and measured in \si{\newton}.\\
& $b$ is coefficient of friction for the cart.\\
& $\dot{x}$ is the velocity of the cart and therefore $\ddot{x}$ will be its acceleration.\\
\hline
  Source & \url{https://ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=SystemModeling} \\
  \hline
  Ref.\ By & \iref{Findx}\\
  \hline

\end{tabular}
\end{minipage}\\

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& GD\refstepcounter{defnum}\thedefnum \label{NLHP}\\
\hline
Label &\bf Newton's second law of motion for the pendulum in horizontal direction\\
\hline
% Units&$MLt^{-3}T^0$\\
% \hline
SI Units& All forces are measured in \si{\newton} \\
\hline
Equation& $m_p\ddot{x}= H_p$ \\
\hline
Description &Based on Newton's second law of motion, sum of all forces applied to the pendulum in {$x$} direction is equal to $m_pa$.
\\
& $H_p$ is the force component in {$x$} direction of the force exerted by the cart on the pendulum and measured in \si{\newton}.\\
& $m_p$ is mass of the pendulum.\\
& $\ddot{x}$ is the pendulum acceleration.\\
\hline
  Source & \url{https://ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=SystemModeling }\\
  \hline
  Ref.\ By & \iref{FindTehta}\\
  \hline
  \end{tabular}
\end{minipage}\\

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& GD\refstepcounter{defnum}\thedefnum \label{NLVP}\\
\hline
Label &\bf Newton's second law of motion for the pendulum in vertical direction\\
\hline
% Units&$MLt^{-3}T^0$\\
% \hline
SI Units& All forces are measured in \si{\newton} \\
\hline
Equation& $m_p\ddot{(l-l\cos(\theta))}= m_pg-V_p$ \\
\hline
Description & Based on Newton's second law of motion, sum of all forces applied to the pendulum in {$y$} direction is equal to $m_pa$. The total displacement traveled by the center of mass of the pendulum is equlal to $l-l\cos(\theta)$, because the second derivation of $l$ as a constant values is zero, therefore the equation reduces to $m_p\ddot{(-l\cos(\theta))}= m_pg-V_p$.\\

& $V_p$ is the force component in {$y$} direction of the force exerted by cart on the pendulum and measured in \si{\newton}.\\
& $m_p$ is mass of the pendulum.\\
& $l-l\cos(\theta)$ is the vertical displacement of the pendulum.\\
\hline
Source &\url{https://ctms.engin.umich.edu/CTMS/index.php/example=InvertedPendulum&section=SystemModeling }\\
  \hline
  Ref.\ By & \iref{FindTehta} , \ddref{VDP}\\
  \hline
  \end{tabular}
\end{minipage}\\



\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& GD\refstepcounter{defnum}\thedefnum \label{AngDis}\\
\hline
Label &\bf Calculate angular displacement of the pendulum \\
\hline
% Units&$MLt^{-3}T^0$\\
% \hline
SI Units& \si{\tau}\\
\hline
Equation& $I\ddot{\theta}$ =$l( V\sin(\theta)$ - $H\cos(\theta)$)\\
\hline
Description & Let's take the center of mass of the pendulum as a center of rotation so the pendulum rotates about its center of mass. The torques due to forces exerted to pendulum will calculate as below: the torque of weight force of pendulum is zero since the perpendicular distance of this force from center of rotation is zero. For reaction forces $Vp$, $Hp$, we decompose these forces to components which are perpendicular to the pendulum which we have, $V\sin(\theta)$ and $H\cos(\theta)$.\\
& $I$ is the moment of inertia of the pendulum.\\
& $\ddot{\theta}$ is pendulum angular acceleration.\\
\hline
  Source & \url{https://ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=SystemModeling} \\
  \hline
  Ref.\ By & \iref{FindTehta}, \ddref{HDC}, \tref{TorqueDef}\\
  \hline

\end{tabular}
\end{minipage}\\


%\subsubsection*{Detailed derivation of the member length}

%\plt{This may be necessary when the necessary information does not fit in the description field.}
%\plt{Derivations are important for justifying a given GD.  You want it to be clear where the equation came from.}

\subsubsection{Data Definitions}\label{sec_datadef}

%\plt{The Data Definitions are definitions of symbols and equations that are given for the problem.  They are not derived; they are simply used by other models.  For instance, if a problem depends on density, there may be a data  definition for the equation defining density.  The DDs are given information that you can use in your other modules.}

%\plt{All Data Definitions should be used (referenced) by at least one other model.}

This section collects and defines all the data needed to build the instance models. The dimension of each quantity is also given.  %\plt{Modify the examples below for your problem, and add additional definitions as appropriate.}

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& DD\refstepcounter{datadefnum}\thedatadefnum \label{HDC}\\
\hline
Label& \bf 
Horizontal displacement of the pendulum\\
\hline
Symbol &$d_px$\\
\hline

  SI Units & \si{\metre}\\
  \hline
  Equation&$ d_px =l\sin(\theta) + {x(t)} $\\
 \hline
Description & 
The distance traveled by the center of mass of the pendulum is due to two reasons, first, horizontal displacement of the cart, and second, due to angular rotation of the pendulum. The distance due to angular rotation in the pendulum will be $l\sin(\theta)$ while the half length of the pendulum is $l$, and the angular rotation in the pendulum is $\theta(t)$.
Therefore, the total distance traveled by the center of mass of pendulum is equal to $ =l\sin(\theta) + {x(t)} $.\\
& $l$ is  the half length of the pendulum in \si{\metre}, \\
& $x(t)$ is the horizontal distance traveled by the center of mass of the pendulum in \si{\metre},\\
&$\theta(t)$ is the angular rotation in the pendulum in \si{\radian}. \\
 \hline
  Sources & \url{https://www.youtube.com/watch?v=c3z4eo6s0Ek} \\
  \hline
  Ref.\ By & \dref{NLHC}\\
  \hline
\end{tabular}
\end{minipage}\\
%------------------------------------DD2
~\newline



\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& DD\refstepcounter{datadefnum}\thedatadefnum \label{VDP}\\
\hline
Label& \bf  Vertical displacement of the pendulum\\
\hline

Symbol &$d_py$\\
\hline

  SI Units & \si{\metre}\\
  \hline
  Equation& $d_py= l-l\cos(\theta)$\\
 \hline
Description & When the pendulum rotates, its center of mass travels a vertical displacement, and as the half length of the pendulum is $l$, so the vertical distance travelled by the center of mass of the pendulum will be equal to $l\cos(\theta)$, hence the total displacement is equal to $l-l\cos(\theta).$   \\
& $l$ is  the half length of the pendulum in \si{\metre}, \\
&$\theta(t)$ is the angular rotation in the pendulum in \si{\radian}. \\
  \hline
  Sources & \url{https://www.youtube.com/watch?v=c3z4eo6s0Ek} \\
  \hline
  Ref.\ By & \dref{NLHP}\\
  \hline
\end{tabular}
\end{minipage}\\




\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number& DD\refstepcounter{datadefnum}\thedatadefnum \label{Inertia of pendulum}\\
\hline
Label& \bf The moment of inertia of the pendulum\\
\hline

Symbol &$I$\\
\hline

  SI Units & \si{\kilogram\metre^2}\\
  \hline
  
  Equation& $I$= $\frac{1}{12}(m_pl^2)$ \\
  
 \hline
Description & The moment of inertia of a rod is related to its mass and length. Its center of mass is located at the middle of its length.   \\
& the mass of rod is denoted by $m$, \\
& and its length is denoted by $l$.\\ 
  \hline
  Sources & \url{https://www.vedantu.com/question-answer/moment-of-a-rod-of-mass-m-length-l-about-class-12-physics-cbse-5f471db855e8473a85a108c5} \\
  \hline
  Ref.\ By & \dref{AngDis}\\
  %accrding to assumption3
  \hline
\end{tabular}
\end{minipage}\\



\subsubsection{Data Types}\label{sec_datatypes}

This section is not applicable for the problem.
\\

\subsubsection{Instance Models} \label{sec_instance}  
This section describes the instance models and figure~\ref{fig_freebody} depicts the free body of the system, so the forces applied to the cart and the pendulum are shown.

\begin{figure}
\begin{center}
\includegraphics[width=0.5\textwidth]{freebody.jpg}
 \caption{The free body diagram of the cart-pendulum system}
 \label{fig_freebody}
 \end{center}
 \end{figure}
~\newline

%Instance Model 1

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
  \hline
  \rowcolor[gray]{0.9}
  Number& IM\refstepcounter{instnum}\theinstnum \label{Findx}\\
  \hline
  Label& \bf Equation of motion for the cart\\
  \hline
  Input& $F(t)$, $m_c$, $m_p$, $b$, $l$\\
  \hline
  Output& $x(t)$ in \si{\metre}, such that $F(t)$= $ (m_c+m_p)\ddot{x}+ b\dot{x} + m_pl\ddot{\theta}\cos{\theta} - m_pl(\dot{\theta}) ^ 2 \sin{\theta} \rightarrow$\\
&$\ddot{x} =\dfrac{F(t)- b\dot{x}- m_pl\ddot{\theta}\cos{\theta}+ m_pl(\dot{\theta}) ^ 2 \sin{\theta}}{(m_c+m_p)}$ \\
 
  \hline
  Description&
  $m_c$ is the mass of the cart (\si{\kilogram}).\\
  &$m_p$ is the mass of the pendulum (\si{\kilogram}).\\
  &$b$ is the coefficient friction of the cart (dimensionless).\\
  &$l$ is the length of pendulum.\\
  &$\theta$ is the pendulum angle from vertical in (\si{\radian}). \\
  & and by writing equation of motion for the cart, the relationship between inputs and cart motion clarified. \\
  %&$\eta = \frac{h_P A_P}{h_C A_C}$ is a constant (dimensionless).\\
  %& The above equation applies as long as the water is in liquid form,
  %$0<T_W<100^o\text{C}$, where $0^o\text{C}$ and $100^o\text{C}$ are the melting
  %and boiling points of water, respectively (\aref{A_OpRange}, \aref{A_Pressure}).
  
  \hline
  Sources& \url{https://www.mathworks.com/help/control/ug/control-of-an-inverted-pendulum-on-a-cart.html }\\
  \hline
  Ref.\ By & \\
  \hline
\end{tabular}
\end{minipage}\\

%~\newline
%Instance Model 1

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
  \hline
  \rowcolor[gray]{0.9}
  Number& IM\refstepcounter{instnum}\theinstnum \label{FindTehta}\\
  \hline
  Label& \bf Equation of motion for the pendulum\\
  \hline
  Input&  $m_c$, $m_p$, $b$, $l$\\

  \hline
  Output & $\theta(t)$, such that $(I+m_pl^2)\ddot{\theta} + m_pl\ddot{x}\cos{\theta} - m_pgl\sin{\theta} = 0 $\rightarrow\\
  &$\ddot{\theta}$= $\dfrac{m_pgl\sin{\theta}-m_pl\ddot{x}\cos{\theta}}{(I+m_pl^2)}$\\
  \hline
  Description&
  $m_c$ is the mass of the cart (\si{\kilogram}).\\
  &$m_p$ is the mass of the pendulum (\si{\kilogram}).\\
  &$l$ is the length of pendulum.\\
  &$b$ is the coefficient friction of the cart (dimensionless).\\
  
  &This equation show the relationship between motion of pendulum and the system.\\
  \hline
  Sources&  \url{https://www.mathworks.com/help/control/ug/control-of-an-inverted-pendulum-on-a-cart.html } \\
  \hline
  Ref.\ By &\\
  \hline
\end{tabular}
\end{minipage}\\

%~\newline

\subsubsection{Derivation of Instance Models }


\noindent \begin{itemize}

\item Finding \iref{Findx}:
This subsection shows how the \iref{Findx} is derived. We should start from \dref{AngDis}, where we have this equation, $I$.$\ddot{\theta}$ =$l$.( $V.\sin(\theta)$ - $H.\cos(\theta)$), we need to substitute $V$ and $H$ in this equation. Therefore, we have the value of $H$ form \dref{NLHP}, consider that we also  calculate $x$ in the \ddref{HDC}, so we will have the $H$ as $m_p\ddot{x}$+$m_pl\ddot{\sin{\theta}}$.\\
For finding $V$, we use \dref{NLVP}, when we have $m_p\ddot{(l-l\cos(\theta))}= (m_p)g-V_p$, so $V_p= (m_p)g - m_p\ddot{(l-l\cos(\theta))}$. The point is that the force that the cart applied to the pendulum is equal to the force that exerted to the cart by the pendulum. Hence, by substituting $V$ and $H$ in \dref{AngDis}, the \iref{Findx} is obtained.\\

\item Finding \iref{FindTehta}:
This subsection shows how the \iref{FindTehta} is derived. In \dref{NLHC}, we have $m_c\ddot{x}= F-H_c-b\dot{x}$, by writing the Newton's second law of motion for the pendulum in vertical direction. As $F$ in the input of the system and we also have the value of $H$ form \dref{NLHP}, consider that we also  calculate $x$ in the \ddref{HDC}, so we will have the $H$ as $m_p\ddot{x}+m_pl\ddot{\sin{\theta}}$.\\
Therefore, by substituting $H_c$, we will reach $(I+m_pl^2)\ddot{\theta} + m_pl\ddot{x}\cos{\theta} - m_pgl\sin{\theta} = 0$. The point is that the force that the cart applied to the pendulum is equal to the force that exerted to the cart by the pendulum.\\

\end{itemize}

\subsubsection{Input Data Constraints} \label{sec_DataConstraints}    

Table~\ref{TblInputVar} shows the data constraints on the input output
variables.  The column for physical constraints gives the physical limitations
on the range of values that can be taken by the variable.  The column for
software constraints restricts the range of inputs to reasonable values.  The
software constraints will be helpful in the design stage for picking suitable
algorithms.  The constraints are conservative, to give the user of the model the
flexibility to experiment with unusual situations.  The column of typical values
is intended to provide a feel for a common scenario.  The uncertainty column
provides an estimate of the confidence with which the physical quantities can be
measured.  This information would be part of the input if one were performing an
uncertainty quantification exercise.

The specification parameters in Table~\ref{TblInputVar} are listed in
Table~\ref{TblSpecParams}.

\begin{table}[!h]
  \caption{Input Variables} \label{TblInputVar}
  \renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l l l c} 
  \toprule
  \textbf{Var} & \textbf{Physical Constraints} & \textbf{Software Constraints} &
                             \textbf{Typical Value} & \textbf{Uncertainty}\\
  \midrule 
  $m_p$ & $m_p > 0$ & $m_p > 0$ & 0.2 \si[per-mode=symbol] {\kilogram} & -- \\
 $m_c$ & $m_c > 0$ & $m_c > 0$ & 0.5 \si[per-mode=symbol] {\kilogram} & -- \\
 $b$ & $b > 0$ & $b > 0$ & 0.1\si[per-mode=symbol]  (dimensionless) &  --\\
 $l$ & $l > 0$ & $l> 0$ & 0.3 \si[per-mode=symbol] {\metre} &  --\\
 $I$ & $I > 0$ & $I> 0$ & 0.006 \si[per-mode=symbol] {\kilogram. \metre^2} & -- \\


  \bottomrule
\end{longtable*}
\end{table}

\begin{table}[!h]
\caption{Specification Parameter Values} \label{TblSpecParams}
\renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l} 
  \toprule
  \textbf{Var} & \textbf{Value} \\
  \midrule 
 $\theta$  &  $0$\\
  \bottomrule
\end{longtable*}
\end{table}

\subsubsection{Properties of a Correct Solution} \label{sec_CorrectSolution}

\noindent
Table~\ref{TblOutputVar} shows the physical constraints on the output.

\begin{table} [!h]
\centering
\caption{Output Variables} \label{TblOutputVar}
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{c|c}

  \toprule
  \textbf{Var} & \textbf{Physical Constraints} \\
  \midrule 
  $\theta$ &  $0\leq \theta$   \si{\radian}\\
 $x$ &  $ 0\leq x$ \\
  \bottomrule
\end{tabular}
\end{table}

\section{Requirements}

This section provides the functional requirements, and the business tasks that the
IP simulation software is expected to complete, and the nonfunctional requirements, the qualities that the software is expected to exhibit.

\subsection{Functional Requirements}

\noindent \begin{itemize}

\item[R\refstepcounter{reqnum}\thereqnum \label{R_Inputs}:] 
{Provide input values such as the cart and pole features according to Table\ref{TblInputVar}.}

\item[R\refstepcounter{reqnum}\thereqnum \label{R_Validity}:] {Check the validity of inputs}.

\item[R\refstepcounter{reqnum}\thereqnum \label{R_CAlculate}:] {Calculate horizontal position of the cart form \iref{Findx} and the angular position of the pendulum from \iref{FindTehta}}.

\item[R\refstepcounter{reqnum}\thereqnum \label{R_Output}:] {Visualize the outputs }.

\end{itemize}

\subsection{Nonfunctional Requirements}
The nonfunctional requirements are listed below:
\noindent \begin{itemize}

\item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Portability}:]
{Portability:  IP simulation software can be run on all of the
    possible operating environments, such as Windows, Mac-OS, and Linux.}

 
\item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Usability}:] 
{Usability: The properties of the software should be able to be tested through \href{https://github.com/MinMah23/CAS741-Project/blob/main/docs/VnVPlan/VnVPlan.pdf}{verification and validation plan}.}

\item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Accuracy}:]
{Accuracy: The level of accuracy achieved by IP Simulator shall be described following the procedure given in Section 5.2.2 of the  \href{https://github.com/MinMah23/CAS741-Project/blob/main/docs/VnVPlan/VnVPlan.pdf}{verification and validation plan}. and have the properties described in Section \ref{sec_CorrectSolution}.}

 
\end{itemize}

\section{Likely Changes}    

\noindent \begin{itemize}

\item[LC\refstepcounter{lcnum}\thelcnum\label{LC_meaningfulLabel}:] 
{The software may be changed to consider friction of the pendulum [\aref{A_pendfrictionl} ]}


\end{itemize}

\section{Unlikely Changes}    

\noindent \begin{itemize}

\item[ULC1\label{LC_meaningfulLabel}:]
{The system has two-degree of freedom [\aref{A_systemdimension}].}

\end{itemize}

\section{Traceability Matrices and Graphs}

The purpose of the traceability matrices is to provide easy references on what
has to be additionally modified if a certain component is changed.  Every time a
component is changed, the items in the column of that component that are marked
with an ``X'' may have to be modified as well.  Table~\ref{Table:trace} shows the
dependencies of theoretical models, general definitions, data definitions, and
instance models with each other.Table~\ref{Table:A_trace} shows the dependencies of theoretical models, general definitions, data definitions, instance models, and likely changes on the assumptions.Table~\ref{Table:R_trace} shows the
dependencies of instance models, requirements, and data constraints on each
other. 


%\afterpage{
\begin{landscape}
\begin{table}[h!]
\caption{Traceability Matrix Showing the Connections Between Items of Different SectionsAssumptions and Other Items}
\label{Table:trace}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\hline
	& \tref{NSL}&\tref{NSLR}&\tref{TorqueDef}&\tref{FoG}& \dref{NLHC}& \dref{NLHP}& \dref{NLVP}& \dref{AngDis}& \ddref{HDC}&\ddref{VDP}&\ddref{Inertia of pendulum} &\iref{Findx}&\iref{FindTehta}\\
\hline
\tref{NSL}    & & & & &X &X &X & & & & &X &\\ \hline
\tref{NSLR}    & & & & & & & & & & & & &X\\ \hline
\tref{TorqueDef}    & & & & & & & & & & &X & &\\ \hline
\tref{FoG}    & & & & & & & & X& & & & &\\ \hline
\dref{NLHC}  & X& & & & & & & & & & &X & \\ \hline
\dref{NLHP}  & X& & & & & & & & & & & &X\\ \hline
\dref{NLVP}  & X& & & & & & & & & & & &X\\ \hline
\dref{AngDis}& & & & & X& & & & & & & & \\ \hline
\ddref{HDC}  & & & & & & X& & & & & & & \\ \hline
\ddref{VDP}  & & & & & & X& & & && & & \\ \hline
\ddref{Inertia of pendulum}       & & & & & & X& & & & & & &\\ \hline
\iref{Findx}  & X& & & & & & & & & & & &\\ \hline
\iref{FindTehta} & & X& & & & & & & & & & &\\ \hline
\end{tabular}

\end{table}
\end{landscape}
%}




\begin{table}[h!]
\caption{Traceability Matrix Showing the Connections Between Assumptions and Other Items}
\label{Table:A_trace}
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\hline        
	& \tref{NSL}&\tref{NSLR}&\tref{TorqueDef}&\tref{FoG}& \dref{NLHC}& \dref{NLHP}& \dref{NLVP}& \dref{AngDis}& \ddref{HDC}&\ddref{VDP}&\ddref{Inertia of pendulum} &\iref{Findx}&\iref{FindTehta}\\
\hline
\aref{A_systemdimension}      & & X& & &X & & & &X & X& &X &X\\ \hline
\aref{A_pendfrictionl}        & & & X& & &X &X & & & & &X &\\ \hline
\aref{A_cartfrictionl}      & & & & & X& & & & & & & & \\ \hline
\aref{A_pendulumInertia}      & & & & & & & &X & & & & & X\\ \hline
\aref{A_CartDimension}      & & X& & & & & & & & & & & \\ \hline


\hline
\end{tabular}

\end{table}

\begin{table}[h!]
\caption{Traceability Matrix Showing the Connections Between Requirements and Instance Models}
\label{Table:R_trace}
\centering
\begin{tabular}{|c|c|c|c|}
\hline
	& \iref{Findx}&\iref{FindTehta}&\ref{sec_DataConstraints} \\
\hline
\rref{R_Inputs}     & & &X\\ \hline
\rref{R_Validity}    & & &X\\ \hline
\rref{R_CAlculate}   &X &X &\\ \hline
\rref{R_Output}    &X &X &\\ \hline


\end{tabular}

\end{table}


\section{Development Plan}
This section is optional. It is used to explain the plan for developing the software. In particular, this section gives a list of the order in which the requirements will be implemented.

\begin{table}[h!]
\caption{Development Plan for IP Simulator}
\label{Table:trace}
\centering
\begin{tabular}{|c|c|c|c|}
\hline
	& \rref{R_Inputs}&\rref{R_OutputInputs}&\rref{R_Calculate}\\
\hline
\tref{NSL}    & & &\\ \hline
\tref{NSLR}    & & &\\ \hline
\tref{TorqueDef}    & & &\\ \hline
\tref{FoG}    & & &\\ \hline
\dref{NLHC}  & X& & \\ \hline
\dref{NLHP}  & X& &\\ \hline
\dref{NLVP}  & X& &\\ \hline
\dref{AngDis}&X & & \\ \hline
\ddref{HDC}  & & &\\ \hline
\ddref{VDP}  & & &\\ \hline
\ddref{Inertia of pendulum}       & & &\\ \hline
\iref{Findx}  & X& X&X\\ \hline
\iref{FindTehta} &X &X &X\\ \hline
\hline
\end{tabular}

\end{table}


\section{Values of Auxiliary Constants}
\begin{table}[h!]
\caption{Auxiliary Constants} \label{TblAuxConst}
	\renewcommand{\arraystretch}{1.2}
	\noindent \begin{longtable*}{l l l l c} 
		\toprule
		\textbf{Symbol} & \textbf{Description} & \textbf{Value} & 
		\textbf{Units} \\
		\midrule 

  ${\theta_{min}}$ & the maximum value for the pendulum angle & 0 & \si{\radian}
		\\
		${\theta_{max}}$ & the minimum value for for the pendulum angle &  180 & \si{\radian}\\
  $g$ & Acceleration due to gravity & 9.8 & \si{\metre\per\square\second}\\

		\bottomrule		
	\end{longtable*}
	
\end{table}



\newpage

\bibliographystyle {plainnat}
\bibliography {ref}


\end{document}